<p id="notice"><%= notice %></p>
<div class="center_it">
  <h2><%= @location.name %></h2>
</p>
<p>

  <h3><%= @location.description %></h3>
</p>
<p>
<strong>Address</strong>
<%= @location.address %>

</div>
<div id="location-map"></div>

<script>
$(document).ready(function (){

    var myCoords = new google.maps.LatLng(latitude,longitude);

  function initialize() {
    var mapOptions = {
       center: myCoords,
       zoom: 15,
       scrollwheel: false,   
    }

    var map = new google.maps.Map(document.getElementById("location-map"), mapOptions);

    var marker = new google.maps.Marker({
        position: myCoords,
        map: map,
        animation: google.maps.Animation.DROP
    });
   
    var contentString = " ";

    var infowindow = new google.maps.InfoWindow({
        content: contentString
    });

    google.maps.event.addListener(marker, "click", function() {
          infowindow.open(map,marker);
    });
  }

  google.maps.event.addDomListener(window, "load", initialize);
})

</script>




<%= link_to 'Edit', edit_location_path(@location) %> |
<%= link_to 'Back', locations_path %>


<%= javascript_tag do %>
   var latitude = "<%= j @location.latitude.to_s %>";
   var longitude = "<%= j @location.longitude.to_s %>";
   var address = "<%= j @location.city %>";
<% end %>